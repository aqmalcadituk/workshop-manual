/*! Cortona3D Solo 1.4.4, Copyright (c) 2015-2017 Paragraphics, Ltd. */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cortona3DSolo=t():e.Cortona3DSolo=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=42)}([function(e,t,n){var r=n(2),i=(r.expand,n(8)),o=0,a={addons:{}},s=!1,c=(n(4).getBaseURL(),{configureInstance:function(e,t){if("number"==typeof e&&(o|=e),"number"==typeof t&&(o&=~t),a.core){var r=n(1).Module;r.ccall&&r.ccall("tiramisu_configure","number",["number","number"],[32767&e,32767&t])}return o},initialize:function(e,t){var r=t,i=n(3);return"string"==typeof e?(r=e,a.drawing||a.core||i.use("core",{src:r,features:o})):e&&t&&(a.core&&e&&(i.core.canvas=e),i.use("core",{canvas:e,src:t,features:o})),new Promise(function(e,t){if(a.drawing&&(n(7).attach(i.core&&i.core.canvas),!a.core&&(r=r||a.drawing.config.src)))return i.once("app.didFinishLoadDocument",function(){s=!0,e.apply(null,arguments)}),i.once("app.didFailLoadDocument",function(){s=!0,t.apply(null,arguments)}),i.app.drawing.load(r),void i.app.drawing.show(!0);if(a.core){i.once("core.onError",t),i.core.canvas&&(i.core.canvas.setAttribute("touch-action","none"),i.core.canvas.style.touchAction="none");var c=n(1).Arguments;if(r=r||c.document,r&&(c.document=r),c.features=32767&o,c.contentScaleFactor=window.devicePixelRatio||1,c.toModule(),r)return i.once("app.didFinishLoadDocument",function(){s=!0,e.apply(null,arguments)}),void i.once("app.didFailLoadDocument",function(){s=!0,t.apply(null,arguments)})}e({})})},version:function(){return"1.4.4"},isDocumentLoaded:function(){return s},loadCompanionFile:function(e){return r.loadResource(e,"text/xml").then(function(t){var r,o,a="",s=[];return t.responseXML?(o=i(t.responseXML),o.ipc?(a="ipc",s=o.$("ipc/figure/metadata/value")):o.SimulationInteractivity&&(a="procedure",s=o.$("SimulationInteractivity/SimulationInformation/metadata/value")),r={json:o,type:a,options:n(10)(o),metadata:n(9)(s)},Promise.resolve(r)):Promise.reject(new Error(e+" empty content"))})}});Object.defineProperty(c,"DISABLE_DOCUMENT_INTERACTIVITY",{value:1,writable:!1}),Object.defineProperty(c,"DISABLE_PROCEDURE_TEXT_EMISSION",{value:2,writable:!1}),Object.defineProperty(c,"DISABLE_AUDIO",{value:4,writable:!1}),Object.defineProperty(c,"DISABLE_VERTEX_ARRAY_OBJECT_OES",{value:8,writable:!1}),Object.defineProperty(c,"DISABLE_DISCARDABLE_GEOMETRY_DATA",{value:16,writable:!1}),Object.defineProperty(c,"DISABLE_PROPERTY_VALUE_ANIMATIONS",{value:32,writable:!1}),Object.defineProperty(c,"ENABLE_NAVIGATION_FIT_TO_OBJECT",{value:32768,writable:!1}),Object.defineProperty(c,"DISABLE_INTERACTIVITY_XML_EMISSION",{value:65536,writable:!1}),Object.defineProperty(c,"DRAWING_HOTSPOT_HIGHLIGHT_SOLID",{value:131072,writable:!1}),Object.defineProperty(c,"ENABLE_AUTO_SWITCHING_DISPLAY_MODE",{value:262144,writable:!1}),e.exports={app:c,checkConfigureOptions:function(e){return!!(o&e)},getDocumentURL:function(){var e="";if(a.core){var t=n(1).Module.arguments;if(t){var r=t.indexOf("document");r>=0&&(e=t[r+1])}}return e},usedModules:a}},function(e,t,n){function r(e){this.name="TiramisuLoadingError",this.message=e||""}function i(){try{var t=new window.XMLHttpRequest;t.overrideMimeType&&t.overrideMimeType("text/javascript");var n="Cortona3DSoloCore.js";"function"==typeof s.locateFile?n=s.locateFile(n):s.memoryInitializerPrefixURL?n=s.memoryInitializerPrefixURL+n:console.log("No memory initializer prefix URL!"),t.open("GET",n,!0),t.onerror=function(e){s.onprogress&&s.onprogress({loaded:0,total:-1,type:e.type}),o.emit("core.onError",new Error(n+" "+t.statusText))},t.onprogress=function(e){s.onprogress&&s.onprogress(e)},t.onload=function(r){if(s.onprogress&&s.onprogress({loaded:0,total:-1,type:r.type}),window.__Cortona3DSolo_Core__=e.exports,200===t.status||0===t.status){var i=new Blob(["(function (Module, Tiramisu) {"+t.response+"})(__Cortona3DSolo_Core__.Module, __Cortona3DSolo_Core__.Tiramisu);"]),a=document.createElement("script"),c=window.URL||window.webkitURL||window,u=c.createObjectURL(i);a.onload=function(){c.revokeObjectURL(u),delete window.__Cortona3DSolo_Core__,o.emit("core.onLoad"),window.addEventListener("error",function(e,t,n,r,i){t!=u&&e.filename!=u||o.emit("core.onError",i||e)})},a.onerror=function(e){c.revokeObjectURL(u),delete window.__Cortona3DSolo_Core__,o.emit("core.onError",new Error(n+" "+e))},a.src=u,document.body.appendChild(a)}else o.emit("core.onError",new Error(n+" "+t.statusText))},t.send(null)}catch(e){throw new r(e.message||e)}}var o=n(3);n(29),n(28);var a=(n(2).expand,{}),s=o.core||{},c={toModule:function(){s.arguments=[];for(var e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&(s.arguments.push(e),s.arguments.push(String(this[e])))},features:0};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports={Tiramisu:a,Module:s,Arguments:c,load:i}},function(e,t){function n(e){function t(){}return t.prototype=e.prototype||e,new t}function r(e,t,n){function r(){}if(e&&(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superClass=e),n)for(var i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);return t}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(r in e?"function"==typeof e[r]&&"function"==typeof n[r]?e[r]=n[r]:e[r]instanceof Object&&n[r]instanceof Object&&n[r]!=={}?i(e[r],n[r]):e[r]=n[r]:e[r]=n[r])}return e}function o(e,t,n){return e+256*t+65536*n}function a(e){return"number"==typeof e?e:"string"==typeof e&&e.match(/^#?([0-9A-F]{6})$/i)?parseInt(RegExp.$1.substr(4,2)+RegExp.$1.substr(2,2)+RegExp.$1.substr(0,2),16):0}function s(e,t,n,r){var i=document.createElement("script");return i.type="text/javascript",i.src=e,void 0!==t&&(i.async=!!t),i.onload=n,i.onerror=r,document.getElementsByTagName("head")[0].appendChild(i),i}function c(e,t,n){var r=document.createElement("link");return r.href=e,r.rel="stylesheet",r.type="text/css",r.onload=t,r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r),r}function u(e){return"function"==typeof e}function l(e){return"number"==typeof e}function p(e){return"string"==typeof e}function d(e){return"object"==typeof e&&null!==e}function f(e){return void 0===e}function h(){return u(window.requirejs)&&u(window.define)&&window.define.amd}function m(e){function t(e){if(e>=0)return e}return e=e||document.location.href,e=e.substring(0,t(e.indexOf("#"))),e=e.substring(0,t(e.indexOf("?"))),e.substring(0,e.lastIndexOf("/")+1)}function v(e,t,n){return new Promise(function(r,i){var o=window.URL||window.webkitURL||window,a=new XMLHttpRequest;t&&a.overrideMimeType&&a.overrideMimeType(t),n&&(a.responseType=n),a.open("GET",e,!0),a.onprogress=function(e){var t=e.loaded,n=e.lengthComputable||void 0===e.lengthComputable?e.total:0;window.Cortona3DSolo&&window.Cortona3DSolo.dispatch("app.onProgress",t,n)},a.onreadystatechange=function(t){if(a.readyState===XMLHttpRequest.DONE){/^blob:/i.test(e)&&o.revokeObjectURL(e),window.Cortona3DSolo&&window.Cortona3DSolo.dispatch("app.onProgress",0,-1);200===a.status||0===a.status?r(a):i(new Error(e+" "+a.status+" "+a.statusText))}};try{a.send(null)}catch(e){i(e)}})}e.exports={extend:n,defineClass:r,expand:i,RGB:o,fromHTMLColor:a,loadScript:s,loadStyleSheet:c,isFunction:u,isNumber:l,isString:p,isObject:d,isUndefined:f,detectAMDLoader:h,getBaseURL:m,loadResource:v}},function(e,t,n){var r=n(2).expand,i=n(11).EventEmitter;e.exports=r(new i,window.Cortona3DSolo||{})},function(e,t,n){var r=n(2).getBaseURL;e.exports={getBaseURL:r,getDocumentBaseURL:function(){return r(n(0).getDocumentURL())}}},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],c=i[3],u={css:a,media:s,sourceMap:c};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function i(e,t){var n=m(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,r,i;if(t.singleton){var c=g++;n=v||(v=a(t)),r=u.bind(null,n,c,!1),i=u.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=p.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=l.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function u(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function l(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},f=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=f(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0,y=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],c=d[s.id];c.refs--,o.push(c)}if(e){n(r(e),t)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete d[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){function r(e){if(!c.getSVGElement()){var t=u.drawing.config.element||u.drawing.config.svg||function(){var t,r=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=e;return e?t=e.parentNode:(n(13),i=document.body.firstChild,t=document.body),t.insertBefore(r,i),r}();t.parentNode.style.overflow="hidden";var r=u.drawing.config.features||0;if(t.classList)t.classList.add("cortona3dsolo-svg");else{var i=t.getAttribute("class")||"";t.setAttribute("class",(i?" ":"")+"cortona3dsolo-svg")}var a=0;r&o.DRAWING_HOTSPOT_HIGHLIGHT_SOLID&&(a|=c.HOTSPOT_HIGHLIGHT_SOLID),c.initialize(t,{flags:a})}}var i=n(3),o=n(0).app,a=(n(0).checkConfigureOptions,n(2).expand);n(31);var s,c=n(41),u=n(0).usedModules,l=!1,p="",d="#FF0000",f="#FF0000";a(c,{delegate:{onProgress:function(e,t){i.dispatch("app.onProgress",e,t)},didClickHotspot:function(e,t){i.dispatch("app.drawing.didSelectHotspot",e,t)},didEnterHotspot:function(e){c.highlight(e,d),i.dispatch("app.drawing.didEnterHotspot",e),i.dispatch("app.drawing.didHoverHotspot",e,!0)},didLeaveHotspot:function(e){c.unhighlight(e),i.dispatch("app.drawing.didLeaveHotspot",e),i.dispatch("app.drawing.didHoverHotspot",e,!1)},didCallContextMenu:function(e,t,n,r){i.dispatch("app.drawing.didCallContextMenu",e,t,n,r)},onZoomChange:function(e){i.dispatch("app.drawing.didChangeScale",e)}}});var h=n(4).getDocumentBaseURL,m={drawing:{load:function(e){if(i.dispatch("app.drawing.didStartLoadDrawing",e),o.drawing.willStartLoadDrawing){var t=o.drawing.willStartLoadDrawing.call(o,e);"string"==typeof t&&(e=t)}if(e==p)return i.dispatch("app.drawing.didFinishLoadDrawing",e),Promise.resolve();var r;return o.util&&o.util.createResourceURL&&(r=o.util.createResourceURL(e)),r||(r=e,/^[^\/]+:/.test(r)||(r=h()+r)),r?new Promise(function(t,a){c.delegate.didCompleteLoad=function(r){if(o.util&&o.util.revokeResourceURL&&o.util.revokeResourceURL(r),p=e,s=null,i.dispatch("app.drawing.didFinishLoadDrawing",e),!u.core){var a={type:"drawing",baseURL:n(4).getBaseURL(e)};i.dispatch("app.didFinishLoadDocument",a)}t()},c.delegate.failedLoadingDocument=function(t,n){o.util&&o.util.revokeResourceURL&&o.util.revokeResourceURL(t),s=null,i.dispatch("app.drawing.didFailLoadDrawing",e,n),u.core||i.dispatch("app.didFailLoadDocument",n),a(new Error("Image loading failed: status "+n))},c.load(r,/\.(png|jpe?g|jpe|gif)$/i.test(e))}):Promise.reject(new Error("Image loading failed: empty url"))},show:function(e){e=void 0===e||!!e,c[e?"show":"hide"](),l=!!e},isVisible:function(){return l},selectHotspot:function(e,t){t=void 0===t?f:t,""===t?c.unselect(e):c.select(e,t)},highlightHotspot:function(e,t){t=void 0===t?d:t,""===t?c.unhighlight(e):c.highlight(e,t)},hoverHotspot:function(e){s&&c.unhighlight(s),e&&c.highlight(e,d),s=e},reset:function(){c.reset()},scaleBy:function(e){c.scaleBy(e)}}};Object.defineProperty(m.drawing,"svg",{get:function(){return c.getSVGElement()},enumerable:!0,configurable:!0}),e.exports={configure:function(e){return e=e||{},d=e.hotspotHoverColor||e.hotspotHighlightColor||"#FF0000",f=e.hotspotSelectionColor||"#FF0000",m},attach:r,getSVGViewer:function(){return c}}},function(e,t,n){function r(e){var t=new i;if(1==e.nodeType&&e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var o=e.attributes.item(n);t["@attributes"][o.nodeName]=o.nodeValue}}var a=!1,s=!1,c=!1,u=!1;if(e.hasChildNodes()){for(var l=0;l<e.childNodes.length;l++){var p=e.childNodes.item(l),d=p.nodeName,f=3===p.nodeType;if(a=a||f,c=c||!f,u=u||4===p.nodeType,void 0===t[d])t[d]=r(p);else{if(void 0===t[d].push){s=s||f;var h=t[d];t[d]=[],t[d].push(h)}t[d].push(r(p))}}s&&(t["#text"]=t["#text"].join("").replace(/^[\s\r\n]*$/,"")),a&&c&&delete t["#text"],u&&(t["#text"]=t["#cdata-section"],delete t["#cdata-section"])}else"string"==typeof e.nodeValue&&(t=e.nodeValue.replace(/^[\s\r\n]*$/,""));return t}var i=n(37);e.exports=r},function(e,t){e.exports=function(e){var t={};return e.forEach(function(e){var n=e.$text();/^(Yes|No)$/.test(n)&&(n="Yes"==n),t[e.$attr("decl-id")]=n}),t}},function(e,t){e.exports=function(e){function t(e){var t=e.$text();/^(Yes|No)$/.test(t)&&(t="Yes"==t),n[e.$attr("name")]=t}var n={};if(e.ipc)e.$("ipc/figure/media").filter(function(e){return 1==e.$attr("id")})[0].$("value").forEach(t);else if(e.SimulationInteractivity){e.$("SimulationInteractivity/SimulationInformation/Options/Value").forEach(t);var r=e.SimulationInteractivity.SimulationInformation;n.PublisherVersion=r.$text("ExporterVersionNumber"),n.SpecID=r.$text("SpecID"),n.SpecVersion=r.$text("SpecVersion"),n.SpecLang=r.$text("SpecLang"),n.ModificationDate=r.$text("ModificationDate"),n.DocumentFile=r.$text("DocumentFile")}return n}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,c=0;c<i;c++)u[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(i,o,a,s){"use strict";function c(e,t,n){return setTimeout(f(e,n),t)}function u(e,t,n){return!!Array.isArray(e)&&(l(e,n[t],n),!0)}function l(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function p(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}function d(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&he(r,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function h(e,t){return typeof e==ge?e.apply(t?t[0]||s:s,t):e}function m(e,t){return e===s?t:e}function v(e,t,n){l(w(t),function(t){e.addEventListener(t,n,!1)})}function g(e,t,n){l(w(t),function(t){e.removeEventListener(t,n,!1)})}function y(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function b(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function _(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function E(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];_(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function x(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<me.length;){if(n=me[o],(r=n?n+i:t)in e)return r;o++}return s}function S(){return Te++}function O(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}function I(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){h(e.options.enable,[e])&&n.handler(t)},this.init()}function L(e){var t=e.options.inputClass;return new(t||(Oe?z:Ie?G:Se?X:$))(e,R)}function R(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&Re&&r-i==0,a=t&(Ae|Pe)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,C(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function C(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=j(t)),i>1&&!n.firstMultiple?n.firstMultiple=j(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=t.center=D(r);t.timeStamp=we(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=U(s,c),t.distance=k(s,c),A(n,t),t.offsetDirection=N(t.deltaX,t.deltaY);var u=M(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=be(u.x)>be(u.y)?u.x:u.y,t.scale=a?V(a.pointers,r):1,t.rotation=a?B(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,P(n,t);var l=e.element;y(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function A(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Re&&o.eventType!==Ae||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function P(e,t){var n,r,i,o,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(t.eventType!=Pe&&(c>Le||a.velocity===s)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,p=M(c,u,l);r=p.x,i=p.y,n=be(p.x)>be(p.y)?p.x:p.y,o=N(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}function j(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ye(e.pointers[n].clientX),clientY:ye(e.pointers[n].clientY)},n++;return{timeStamp:we(),pointers:t,center:D(t),deltaX:e.deltaX,deltaY:e.deltaY}}function D(e){var t=e.length;if(1===t)return{x:ye(e[0].clientX),y:ye(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:ye(n/t),y:ye(r/t)}}function M(e,t,n){return{x:t/e||0,y:n/e||0}}function N(e,t){return e===t?je:be(e)>=be(t)?e<0?De:Me:t<0?Ne:ke}function k(e,t,n){n||(n=$e);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function U(e,t,n){n||(n=$e);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function B(e,t){return U(t[1],t[0],ze)+U(e[1],e[0],ze)}function V(e,t){return k(t[0],t[1],ze)/k(e[0],e[1],ze)}function $(){this.evEl=Fe,this.evWin=Ge,this.pressed=!1,I.apply(this,arguments)}function z(){this.evEl=qe,this.evWin=We,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Je,this.evWin=Ze,this.started=!1,I.apply(this,arguments)}function F(e,t){var n=E(e.touches),r=E(e.changedTouches);return t&(Ae|Pe)&&(n=T(n.concat(r),"identifier",!0)),[n,r]}function G(){this.evTarget=et,this.targetIds={},I.apply(this,arguments)}function Y(e,t){var n=E(e.touches),r=this.targetIds;if(t&(Re|Ce)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=E(e.changedTouches),s=[],c=this.target;if(o=n.filter(function(e){return y(e.target,c)}),t===Re)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(Ae|Pe)&&delete r[a[i].identifier],i++;return s.length?[T(o.concat(s),"identifier",!0),s]:void 0}function X(){I.apply(this,arguments);var e=f(this.handler,this);this.touch=new G(this.manager,e),this.mouse=new $(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function q(e,t){e&Re?(this.primaryTouch=t.changedPointers[0].identifier,W.call(this,t)):e&(Ae|Pe)&&W.call(this,t)}function W(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,tt)}}function K(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=nt&&a<=nt)return!0}return!1}function J(e,t){this.manager=e,this.set(t)}function Z(e){if(b(e,st))return st;var t=b(e,ct),n=b(e,ut);return t&&n?st:t||n?t?ct:ut:b(e,at)?at:ot}function Q(e){this.options=he({},this.defaults,e||{}),this.id=S(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=pt,this.simultaneous={},this.requireFail=[]}function ee(e){return e&vt?"cancel":e&ht?"end":e&ft?"move":e&dt?"start":""}function te(e){return e==ke?"down":e==Ne?"up":e==De?"left":e==Me?"right":""}function ne(e,t){var n=t.manager;return n?n.get(e):e}function re(){Q.apply(this,arguments)}function ie(){re.apply(this,arguments),this.pX=null,this.pY=null}function oe(){re.apply(this,arguments)}function ae(){Q.apply(this,arguments),this._timer=null,this._input=null}function se(){re.apply(this,arguments)}function ce(){re.apply(this,arguments)}function ue(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function le(e,t){return t=t||{},t.recognizers=m(t.recognizers,le.defaults.preset),new pe(e,t)}function pe(e,t){this.options=he({},le.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=L(this),this.touchAction=new J(this,this.options.touchAction),de(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(e,t){var n=e.element;if(n.style){var r;l(e.options.cssProps,function(i,o){r=x(n.style,o),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function fe(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var he,me=["","webkit","Moz","MS","ms","o"],ve=o.createElement("div"),ge="function",ye=Math.round,be=Math.abs,we=Date.now;he="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var _e=p(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),Ee=p(function(e,t){return _e(e,t,!0)},"merge","Use `assign`."),Te=1,xe=/mobile|tablet|ip(ad|hone|od)|android/i,Se="ontouchstart"in i,Oe=x(i,"PointerEvent")!==s,Ie=Se&&xe.test(navigator.userAgent),Le=25,Re=1,Ce=2,Ae=4,Pe=8,je=1,De=2,Me=4,Ne=8,ke=16,Ue=De|Me,Be=Ne|ke,Ve=Ue|Be,$e=["x","y"],ze=["clientX","clientY"];I.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(O(this.element),this.evWin,this.domHandler)}};var He={mousedown:Re,mousemove:Ce,mouseup:Ae},Fe="mousedown",Ge="mousemove mouseup";d($,I,{handler:function(e){var t=He[e.type];t&Re&&0===e.button&&(this.pressed=!0),t&Ce&&1!==e.which&&(t=Ae),this.pressed&&(t&Ae&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Ye={pointerdown:Re,pointermove:Ce,pointerup:Ae,pointercancel:Pe,pointerout:Pe},Xe={2:"touch",3:"pen",4:"mouse",5:"kinect"},qe="pointerdown",We="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(qe="MSPointerDown",We="MSPointerMove MSPointerUp MSPointerCancel"),d(z,I,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Ye[r],o=Xe[e.pointerType]||e.pointerType,a="touch"==o,s=_(t,e.pointerId,"pointerId");i&Re&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(Ae|Pe)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Ke={touchstart:Re,touchmove:Ce,touchend:Ae,touchcancel:Pe},Je="touchstart",Ze="touchstart touchmove touchend touchcancel";d(H,I,{handler:function(e){var t=Ke[e.type];if(t===Re&&(this.started=!0),this.started){var n=F.call(this,e,t);t&(Ae|Pe)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Qe={touchstart:Re,touchmove:Ce,touchend:Ae,touchcancel:Pe},et="touchstart touchmove touchend touchcancel";d(G,I,{handler:function(e){var t=Qe[e.type],n=Y.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var tt=2500,nt=25;d(X,I,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)q.call(this,t,n);else if(i&&K.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=x(ve.style,"touchAction"),it=rt!==s,ot="auto",at="manipulation",st="none",ct="pan-x",ut="pan-y",lt=function(){if(!it)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();J.prototype={set:function(e){"compute"==e&&(e=this.compute()),it&&this.manager.element.style&&lt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){h(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Z(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=b(r,st)&&!lt[st],o=b(r,ut)&&!lt[ut],a=b(r,ct)&&!lt[ct];if(i){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}return a&&o?void 0:i||o&&n&Ue||a&&n&Be?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var pt=1,dt=2,ft=4,ht=8,mt=ht,vt=16;Q.prototype={defaults:{},set:function(e){return he(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(u(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return u(e,"dropRecognizeWith",this)?this:(e=ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(u(e,"requireFailure",this))return this;var t=this.requireFail;return e=ne(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(u(e,"dropRequireFailure",this))return this;e=ne(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<ht&&t(n.options.event+ee(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=ht&&t(n.options.event+ee(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|pt)))return!1;e++}return!0},recognize:function(e){var t=he({},e);if(!h(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(mt|vt|32)&&(this.state=pt),this.state=this.process(t),this.state&(dt|ft|ht|vt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},d(re,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(dt|ft),i=this.attrTest(e);return r&&(n&Pe||!i)?t|vt:r||i?n&Ae?t|ht:t&dt?t|ft:dt:32}}),d(ie,re,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ve},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ue&&t.push(ut),e&Be&&t.push(ct),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Ue?(i=0===o?je:o<0?De:Me,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?je:a<0?Ne:ke,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return re.prototype.attrTest.call(this,e)&&(this.state&dt||!(this.state&dt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),d(oe,re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&dt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),d(ae,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ot]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Ae|Pe)&&!i)this.reset();else if(e.eventType&Re)this.reset(),this._timer=c(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&Ae)return mt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&Ae?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=we(),this.manager.emit(this.options.event,this._input)))}}),d(se,re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&dt)}}),d(ce,re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ue|Be,pointers:1},getTouchAction:function(){return ie.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ue|Be)?t=e.overallVelocity:n&Ue?t=e.overallVelocityX:n&Be&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&be(t)>this.options.velocity&&e.eventType&Ae},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),d(ue,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[at]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&Re&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=Ae)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||k(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e;if(0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=mt,this.tryEmit()},t.interval,this),dt):mt}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),le.VERSION="2.0.7",le.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[se,{enable:!1}],[oe,{enable:!1},["rotate"]],[ce,{direction:Ue}],[ie,{direction:Ue},["swipe"]],[ue],[ue,{event:"doubletap",taps:2},["tap"]],[ae]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};pe.prototype={set:function(e){return he(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&mt)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(dt|ft|ht)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(u(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(u(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=_(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return l(w(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return l(w(e),function(e){t?n[e]&&n[e].splice(_(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&fe(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},he(le,{INPUT_START:Re,INPUT_MOVE:Ce,INPUT_END:Ae,INPUT_CANCEL:Pe,STATE_POSSIBLE:pt,STATE_BEGAN:dt,STATE_CHANGED:ft,STATE_ENDED:ht,STATE_RECOGNIZED:mt,STATE_CANCELLED:vt,STATE_FAILED:32,DIRECTION_NONE:je,DIRECTION_LEFT:De,DIRECTION_RIGHT:Me,DIRECTION_UP:Ne,DIRECTION_DOWN:ke,DIRECTION_HORIZONTAL:Ue,DIRECTION_VERTICAL:Be,DIRECTION_ALL:Ve,Manager:pe,Input:I,TouchAction:J,TouchInput:G,MouseInput:$,PointerEventInput:z,TouchMouseInput:X,SingleTouchInput:H,Recognizer:Q,AttrRecognizer:re,Tap:ue,Pan:ie,Swipe:ce,Pinch:oe,Rotate:se,Press:ae,on:v,off:g,each:l,merge:Ee,extend:_e,assign:he,inherit:d,bindFn:f,prefixed:x}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=le,(r=function(){return le}.call(t,n,t,e))!==s&&(e.exports=r)}(window,document)},function(e,t,n){var r=n(23);"string"==typeof r&&(r=[[e.i,r,""]]);n(6)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){function n(){3==arguments.length&&"number"==typeof arguments[0]?(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2]):1==arguments.length&&"object"==typeof arguments[0]&&null!==arguments[0]&&3==arguments[0].length?(this.x=arguments[0][0],this.y=arguments[0][1],this.z=arguments[0][2]):(this.x=0,this.y=0,this.z=0)}n.prototype.toArray=function(){return[this.x,this.y,this.z]},n.prototype.toString=function(){return this.toArray().join(" ")},n.prototype.add=function(e){return new n(e.x+this.x,e.y+this.y,e.z+this.z)},n.prototype.subtract=function(e){return new n(this.x-e.x,this.y-e.y,this.z-e.z)},n.prototype.dot=function(e){return e.x*this.x+e.y*this.y+e.z*this.z},n.prototype.cross=function(e){return new n(this.y*e.z-e.y*this.z,this.z*e.x-e.z*this.x,this.x*e.y-e.x*this.y)},n.prototype.divide=function(e){return new n(this.x/e,this.y/e,this.z/e)},n.prototype.multiply=function(e){return new n(this.x*e,this.y*e,this.z*e)},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0===e?this:this.divide(e)},n.prototype.negate=function(){return new n(-this.x,-this.y,-this.z)},e.exports=n},function(e,t,n){"use strict";e.exports=n(27).polyfill()},function(e,t,n){function r(){var e=d.PanelService.didDrawScene;d.PanelService.didDrawScene=function(){p.dispatch("core.didDrawAnimationFrame"),e()},h.ui.showCanvas(!0),p.dispatch("core.didChangeLayout"),h.ui.setBannerImage(h.util.fetchBannerImage())}function i(e){var t=e.companionFile,r=!m(h.DISABLE_INTERACTIVITY_XML_EMISSION);if(r=r&&!!t,r=r&&("ipc"==e.type||"procedure"==e.type)){var i=h.util.createResourceURL(t)||t;if(i)return h.loadCompanionFile(i).then(function(e){if(e){var t=e.json;t.ipc?(g(h,{ipc:{interactivity:{json:t}}}),g(h,n(39).app)):t.SimulationInteractivity&&(g(h,{procedure:{interactivity:{json:t}}}),g(h,n(40).app))}return Promise.resolve()})}return Promise.resolve()}function o(e){var t=e.match(/^#([0-9a-f]{6})$/i);return t?(t=t[1],parseInt(t.substr(0,2),16)<<16|parseInt(t.substr(2,2),16)<<8|parseInt(t.substr(4,2),16)):(t=e.match(/^#([0-9a-f]{3})$/i),t?(t=t[1],17*parseInt(t.charAt(0),16)<<16|17*parseInt(t.charAt(1),16)<<8|17*parseInt(t.charAt(2),16)):-1)}function a(e){return"#"+(16777215&e).toString(16).toUpperCase()}function s(e,t,n){var r=0,i=0;if(t){"number"==typeof t&&(t=[t]),i=d.allocate(4*t.length,"i32",d.ALLOC_STACK),r=t.length;for(var o=0;o<r;++o)d.setValue(i+4*o,t[o],"i32")}var a=[i,r].concat(Array.prototype.slice.call(arguments,2).filter(function(e){return void 0!==e})),s=new Array(a.length).map(function(){return"number"});d.ccall(e,"null",s,a)}function c(){function e(e){e.stopPropagation()}function t(e){var t=e.target,n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;p.dispatch("app.didCallContextMenu",r,i,t),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}function n(e){"mouse"!==e.pointerType&&t(e)}function r(e){var t=e.target,n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;obj=h.pickObject(r,i),clearTimeout(x),obj?h.fitObjectsInView([obj.handle],!0):h.fitSceneInView(!0),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}Array.prototype.slice.call(document.getElementsByClassName("cortona3dsolo-popover")).forEach(function(t){t.addEventListener("contextmenu",function(e){e.preventDefault()},!1),t.addEventListener("pointerdown",e,!1),t.addEventListener("pointerup",e,!1)});var i=u();if(d.canvas.addEventListener("contextmenu",t),m(h.ENABLE_NAVIGATION_FIT_TO_OBJECT)){d.canvas.addEventListener("click",function(e){if(4==(+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4))){var t=e.target||e.srcElement,n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,o=h.pickObject(r,i);o&&(clearTimeout(x),x=setTimeout(function(){h.setRotationCenterToObjects([o.handle],!0)},100))}},!1);var o=0,a={},s=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))};if(i)d.canvas.addEventListener("dblclick",r),d.canvas.addEventListener("MSGestureTap",function(e){e.detail===e.MSGESTURE_FLAG_BEGIN+e.MSGESTURE_FLAG_END&&(o?(new Date).valueOf()-o<=_?(o=0,s(a,{x:e.screenX,y:e.screenY})<100&&r(e)):o=0:(o=(new Date).valueOf(),a.x=e.screenX,a.y=e.screenY))}),d.canvas.addEventListener("MSGestureHold",function(e){e.detail&e.MSGESTURE_FLAG_BEGIN&&n(e)});else{var c=new b.Manager(d.canvas),l=new b.Press({time:w}),f=new b.Tap({event:"doubletap",taps:2,threshold:5,posThreshold:100,interval:_});f.recognizeWith(l),l.requireFailure(f),c.add(l),c.add(f),c.set({touchAction:"none"}),c.on("press",function(e){n({target:e.target,clientX:e.center.x,clientY:e.center.y})}),c.on("doubletap",function(e){r({target:e.target,clientX:e.center.x,clientY:e.center.y})})}}}function u(){function e(e){t(e.translationX,e.translationY,e.scale,e.rotation,e.detail)}function t(e,t,n,r,i){d.ccall("tiramisu_microsoftGesture","null",["number","number","number","number","number"],arguments)}function n(e,t,n){return d.ccall("tiramisu_microsoftPointerUp","number",["number"],arguments)}function r(e,t,n){return d.ccall("tiramisu_microsoftPointerDown","number",["number","number","number"],arguments)}if("function"!=typeof window.MSGesture)return!1;console.log("Adapting to survive in Microsoft's neighbourhood.");var i=d.canvas,o=new MSGesture;return o.target=i,i.addEventListener("MSHoldVisual",function(e){e.preventDefault()},!1),i.addEventListener("MSGestureStart",e,!1),i.addEventListener("MSGestureEnd",e,!1),i.addEventListener("MSGestureChange",e,!1),i.addEventListener("MSInertiaStart",e,!1),i.addEventListener("MSGestureTap",e,!1),i.addEventListener("MSGestureHold",e,!1),i.addEventListener("pointerdown",function(e){if("mouse"==e.pointerType)return void i.setPointerCapture(e.pointerId);r(e.pointerId,e.offsetX,e.offsetY)&&(i.setPointerCapture(e.pointerId),o.addPointer(e.pointerId))},!1),i.addEventListener("pointerup",function(e){"mouse"!=e.pointerType&&(e.stopPropagation(),n(e.pointerId,e.offsetX,e.offsetY))},!1),window.addEventListener("pointerup",function(e){if("mouse"!=e.pointerType){var t=i.getBoundingClientRect(),r=t.left+window.pageXOffset-document.body.clientLeft,o=t.top+window.pageYOffset-document.body.clientTop;n(e.pointerId,e.pageX-r,e.pageY-o)}},!1),!0}var l,p=n(3),d=n(1).Module,f=n(1).Tiramisu,h=n(0).app,m=n(0).checkConfigureOptions,v=n(2),g=v.expand,y=(n(8),n(4).getBaseURL),b=n(12),w=1e3,_=250,E=!1,T=!1;g(f,{didFinishLoadDocument:function(e){l=e,c(),e.baseURL="",e.bundleURL||(e.baseURL=y(e.companionFile||n(0).getDocumentURL())),i(e).then(function(){e.type;E=!0,p.dispatch("app.didFinishLoadDocument",e),p.dispatch("app.didAttachDocument",e),T&&(r(),setTimeout(function(){p.dispatch("app.firstFrameDidArrive")},0))}).catch(function(e){p.dispatch("app.didFailLoadDocument",e),console.error(e)})},firstFrameDidArrive:function(e){T=!0,E&&(r(),p.dispatch("app.firstFrameDidArrive",e))},didFailLoadDocument:function(e){p.dispatch("app.didFailLoadDocument",e)},didClickHyperlink:function(e){p.dispatch("app.didClickHyperlink",e)},willStartNavigateInScene:function(){p.dispatch("app.willStartNavigateInScene")}}),g(f,{util:{wrapStringArray:function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=d.Pointer_stringify(d.getValue(e+4*r,"i32"));return n},wrapSheetArray:function(e,t){if(!t)return[];for(var n=new Array(t),r=0;r<t;++r,e+=12)n[r]={id:d.Pointer_stringify(d.getValue(e,"i32")),description:d.Pointer_stringify(d.getValue(e+4,"i32")),indentationLevel:d.getValue(e+8,"i32")};return n},unmarshalObjectArray:function(e){if(!e)return null;var t,n,r=[];for(t=0;n=d.getValue(e+4*t,"i32");++t)r[t]=n;return r}}});var x,S={version:function(){var e=f.VERSION>>24,t=f.VERSION>>16&255,n=65535&f.VERSION;new Date(1e3*f.BUILD_TIME);return"1.4.4 (core: "+[e,t,n].join(".")+")"},resize:function(e,t){d.ccall("tiramisu_resize","null",["number","number"],arguments)},getObjectName:function(e){return d.ccall("tiramisu_getObjectName","string",["number"],arguments)},getObjectTypeName:function(e){return d.ccall("tiramisu_getObjectTypeName","string",["number"],arguments)},getObjectWithName:function(e){return d.ccall("tiramisu_getObjectWithName","number",["string"],arguments)},isObjectIgnorableByPicker:function(e){return 0!==d.ccall("tiramisu_isObjectIgnorableByPicker","number",["number"],arguments)},setObjectIgnorableByPicker:function(e,t){d.ccall("tiramisu_setObjectIgnorableByPicker","null",["number","number"],arguments)},pickObject:function(e,t,n){var r=void 0===n?0:n?2:1;return node=d.ccall("tiramisu_pickObject","number",["number","number","number"],[e,t,r]),node?{handle:node,name:d.ccall("tiramisu_getObjectName","string",["number"],[node])}:null},pickObjectChain:function(e,t){function n(e){return[d.getValue(e,"float"),d.getValue(e+4,"float"),d.getValue(e+8,"float")]}var r=d._tiramisu_pickObjectChain(e,t),i=null;return r&&(i={coord:n(r),normal:n(r+12),sceneCoord:n(r+24),sceneNormal:n(r+36),chain:f.util.unmarshalObjectArray(r+48)},d._free(r)),i},getPickerTransparencyThreshold:function(){return d.ccall("tiramisu_getPickerTransparencyThreshold","number")},setPickerTransparencyThreshold:function(e){return d.ccall("tiramisu_setPickerTransparencyThreshold","null",["number"],arguments)},addSelectedObjects:function(e,t){s("tiramisu_addSelectedObjects",e,t)},setSelectedObjects:function(e,t){s("tiramisu_setSelectedObjects",e,t)},getSelectedObjects:function(){var e=d.ccall("tiramisu_getSelectedObjects","number"),t=f.util.unmarshalObjectArray(e);return d._free(e),t},setDefaultBackgroundColors:function(e){var t,n=0,r=0,i=d.Runtime.stackSave();if(e)for("string"==typeof e&&(e=[e]),n=e.length,r=d.allocate(4*n,"i32",d.ALLOC_STACK),t=0;t<n;++t)d.setValue(r+4*t,o(e[t]),"i32");d.ccall("tiramisu_setDefaultBackgroundColors","null",["number","number"],[r,n]),d.Runtime.stackRestore(i)},setMouseDragMode:function(e){d.ccall("tiramisu_setMouseDragMode","null",["number"],arguments)},setObjectPropertyf:function(e,t,n,r,i,o,a){return 0!==d.ccall("tiramisu_setObjectPropertyf","number",["number","number","number","number","number","number","number"],arguments)},restoreObjectProperty:function(e,t,n){return 0!==d.ccall("tiramisu_restoreObjectProperty","number",["number","number","number"],[e||0,t,n])},getObjectsWithDirtyProperty:function(e){var t=d.ccall("tiramisu_getObjectsWithDirtyProperty","number",["number"],arguments),n=f.util.unmarshalObjectArray(t);return d._free(t),n},isRotationCenterVisible:function(){return 0!==d.ccall("tiramisu_isRotationCenterVisible","number")},setRotationCenterVisibility:function(e){d.ccall("tiramisu_setRotationCenterVisibility","null",["number"],arguments)},setDefaultView:function(e){d.ccall("tiramisu_setDefaultView","null",["number"],arguments)},jumpToStandardView:function(e,t,n){d.ccall("tiramisu_jumpToStandardView","null",["string","number","number"],[e,t,n||0])},fitSceneInView:function(e,t){d.ccall("tiramisu_fitObjectsInView","null",["number","number","number","number"],[0,-1,e,t||0])},fitSelectedObjectsInView:function(e,t){d.ccall("tiramisu_fitObjectsInView","null",["number","number","number","number"],[0,-2,e,t||0])},fitObjectsInView:function(e,t,n){s("tiramisu_fitObjectsInView",e,t,n)},setRotationCenterToScene:function(){d.ccall("tiramisu_setRotationCenterToObjects","null",["number","number","number"],[0,-1,0])},setRotationCenterToSelectedObjects:function(){d.ccall("tiramisu_setRotationCenterToObjects","null",["number","number","number"],[0,-2,0])},setRotationCenterToObjects:function(e,t){s("tiramisu_setRotationCenterToObjects",e,t),t&&d.ccall("tiramisu_centerRotationCenterInView","null",["number"],[t])},centerRotationCenterInView:function(e){d.ccall("tiramisu_centerRotationCenterInView","null",["number"],arguments)},resetRotationCenter:function(){d.ccall("tiramisu_resetRotationCenter","null")},getDocumentInfo:function(){return l},getOptions:function(){var e,t,n=d.ccall("tiramisu_getOptions","number"),r=0;if(n){for(e={},r=0;t=d.getValue(n+r,"i32");r+=8)e[d.Pointer_stringify(t)]=d.Pointer_stringify(d.getValue(n+r+4,"i32"));return d._free(n),e}},getOption:function(e){var t=d.ccall("tiramisu_getOption","number",["string"],[e]);if(t)return d.Pointer_stringify(t)},setObjectName:function(e,t){d.ccall("tiramisu_setObjectName","null",["number","string"],arguments)},getHoverColor:function(){return a(d._tiramisu_getHoverColor())},setHoverColor:function(e){return d._tiramisu_setHoverColor(o(e))},getSelectionColor:function(){return a(d._tiramisu_getSelectionColor())},setSelectionColor:function(e){return d._tiramisu_setSelectionColor(o(e))},getViewpoints:function(){var e,t,n=d._tiramisu_getViewpoints(),r=[];if(n){for(t=0;e=d.getValue(n+t,"i32");t+=12)r.push({handle:e,name:d.Pointer_stringify(d.getValue(n+t+4,"i32")),description:d.Pointer_stringify(d.getValue(n+t+8,"i32"))});d._free(n)}return r},getActiveViewpoint:function(){return d._tiramisu_getActiveViewpoint()},setActiveViewpoint:function(e){d._tiramisu_setActiveViewpoint(e)},addObjects:function(e,t){v.isObject(e)&&e.forEach||(e=[e]),e.forEach(function(e){d.ccall("tiramisu_addObject","null",["number","number"],[e,t])})},removeObjects:function(e,t){v.isObject(e)&&e.forEach||(e=[e]),e.forEach(function(e){d.ccall("tiramisu_removeObject","null",["number","number"],[e,t])})},removeAllObjects:function(e){d.ccall("tiramisu_removeAllObjects","null",["number"],arguments)},createObjectsFromString:function(e,t){var n=d.ccall("tiramisu_createObjects","number",["string","number","string"],[e,0,t||null]),r=f.util.unmarshalObjectArray(n)||[];return n?d._free(n):d.printErr('createObjectsFromString() failed: "'+e+'"'),r},createObjectsFromURL:function(e){return v.loadResource(e,"","arraybuffer").then(function(t){var n,r,i,o=t.response;return o&&(n=new Uint8Array(o),r=d._malloc(n.byteLength),d.writeArrayToMemory(n,r),i=d.ccall("tiramisu_createObjects","number",["number","number","string"],[r,n.byteLength,e]),handles=f.util.unmarshalObjectArray(i),d._free(r),i)?(d._free(i),Promise.resolve(handles)):Promise.reject(new Error('createObjectsFromURL() failed: "'+e+'"'))})},createObjectsFromDocumentBundle:function(e){var t=d.ccall("tiramisu_createObjectsFromBundleItem","number",["string"],[e]),n=f.util.unmarshalObjectArray(t)||[];return t?d._free(t):d.printErr('createObjectsFromDocumentBundle() failed: "'+e+'"'),n}};Object.defineProperty(h,"MOUSE_DRAG_MODE_SPIN",{value:0,writable:!1}),Object.defineProperty(h,"MOUSE_DRAG_MODE_PAN",{value:1,writable:!1}),Object.defineProperty(h,"MOUSE_DRAG_MODE_ZOOM",{value:2,writable:!1}),Object.defineProperty(h,"MOUSE_DRAG_MODE_DEFAULT",{value:0,writable:!1}),Object.defineProperty(h,"PROPERTY_DIFFUSE_COLOR",{value:0,writable:!1}),Object.defineProperty(h,"PROPERTY_EMISSIVE_COLOR",{value:1,writable:!1}),Object.defineProperty(h,"PROPERTY_TRANSPARENCY",{value:2,writable:!1}),Object.defineProperty(h,"PROPERTY_VISIBILITY",{value:3,writable:!1}),Object.defineProperty(h,"PROPERTY_TRANSLATION",{value:4,writable:!1}),Object.defineProperty(h,"PROPERTY_ROTATION",{value:5,writable:!1}),Object.defineProperty(h,"PROPERTY_SCALE",{value:6,writable:!1}),Object.defineProperty(h,"MR_PARTNUMBER",{value:1,writable:!1}),Object.defineProperty(h,"MR_PARTDESC",{value:2,writable:!1}),Object.defineProperty(h,"MR_ITEM",{value:3,writable:!1}),Object.defineProperty(h,"MR_ITEMVAR",{value:4,writable:!1}),Object.defineProperty(h,"MR_INDENT",{value:5,writable:!1}),Object.defineProperty(h,"MR_UPA",{value:6,writable:!1}),Object.defineProperty(h,"MR_TOTALQTY",{value:7,writable:!1}),e.exports={app:S}},function(e,t,n){var r=n(3),i=n(1).Module,o=n(1).Tiramisu,a=n(0).app,s=n(2).expand,c=n(0).checkConfigureOptions,u=n(0).usedModules,l={},p=[];r.once("app.didAttachDocument",function(e){"ipc"==e.type&&(p=e.sheets,r.once("app.firstFrameDidArrive",function(){o.ipc.didSelectSheet(e.sheet)}),u.core.config.ipcHoverColor&&a.setHoverColor(u.core.config.ipcHoverColor),u.core.config.ipcSelectionColor&&a.setSelectionColor(u.core.config.ipcSelectionColor))}),s(o,{ipc:{didSelectSheet:function(e){if(a.ipc.interactivity&&(e.drawing=a.ipc.interactivity.getDrawingForIPCView(e.id)),a.drawing){e.drawing!==l.drawing&&(e.drawing?a.drawing.load(e.drawing):c(a.ENABLE_AUTO_SWITCHING_DISPLAY_MODE)&&a.ui.isDrawingDisplayMode()&&a.ipc.toggleDrawingDisplayMode())}l=e,r.dispatch("app.ipc.didSelectSheet",e)},didHoverItem:function(e){r.dispatch("app.ipc.didHoverItem",e)},didSelectItem:function(e){r.dispatch("app.ipc.didSelectItem",e)},didChangeItemVisibility:function(e,t,n){var o,a=[];for(o=0;o<n;++o)a.push(i.getValue(t+4*o,"i32"));r.dispatch("app.ipc.didChangeItemVisibility",e,a)}}});var d={ipc:{setCurrentSheet:function(e,t){i.ccall("ipc_setCurrentSheet","null",["string","number"],[e,!a.ui.isDrawingDisplayMode()&&t])},toggleItemVisibility:function(e){i.ccall("ipc_toggleItemVisibility","null",["number"],arguments)},selectItem:function(e,t){return i.ccall("ipc_selectItem","number",["number"],[e,void 0===t||t])},hoverItem:function(e,t){i.ccall("ipc_hoverItem","null",["number"],[e,void 0===t||t])},resetCurrentSheet:function(e){a.drawing&&n(7).getSVGViewer().reset(e),i.ccall("ipc_resetCurrentSheet","null",["number"],arguments)},getItemWithHotspot:function(e){return i.ccall("ipc_getItemWithHotspot","number",["string"],arguments)},getCurrentSheet:function(){return l},toggleDrawingDisplayMode:function(e){return!!a.drawing&&(e=void 0===e?!a.drawing.isVisible():e,e&&(e=!!l.drawing),a.drawing.show(e),a.ui.showCanvas(!e),r.dispatch("app.ipc.didDrawingDisplayMode",e),e)}}};d.ipc.dpl=n(38),e.exports={app:d}},function(e,t,n){var r=n(3),i=n(1).Module,o=n(1).Tiramisu,a=n(0).app;(0,n(2).expand)(o,{procedure:{didFireEvent:function(e,t,n,i){r.dispatch("app.procedure.didFireEvent",e,t,n,i)},didChangePlayerState:function(e,t){r.dispatch("app.procedure.didChangePlayerState",e,t)},didEnterSubstep:function(e){r.dispatch("app.procedure.didEnterSubstep",e)},didEnterSubstepWithName:function(e){r.dispatch("app.procedure.didEnterSubstepWithName",e)}}});var s={procedure:{seekToSubstep:function(e){i.ccall("procedure_seekToSubstep","null",["string"],arguments)},setPlaybackSpeed:function(e){i.ccall("procedure_setPlaybackSpeed","null",["number"],arguments)},freezeCamera:function(e){i.ccall("procedure_freezeCamera","null",["number"],arguments)},setPlayPosition:function(e,t){i.ccall("procedure_setPlayPosition","null",["number","number"],arguments)},backward:function(){i.ccall("procedure_backward","null")},forward:function(){i.ccall("procedure_forward","null")},stop:function(){i.ccall("procedure_stop","null")},play:function(e){i.ccall("procedure_play","null",["number"],arguments)},pause:function(){i.ccall("procedure_pause","null")},setPlayRange:function(e,t,n){i.ccall("procedure_setPlayRange","null",["string","string","number"],[e,t||e,n||0])},getPlayableRangeStartTime:function(){return i.ccall("procedure_getPlayableRangeStartTime","number")},getPlayableRangeStopTime:function(){return i.ccall("procedure_getPlayableRangeStopTime","number")},requestPlayerState:function(){i.ccall("procedure_requestPlayerState","null")},getOptions:function(){return a.getOptions()},getOption:function(e){return a.getOption(e)},setPlayableItemList:function(e){var t,n,r=e?e.length:0,o=0,a=i.Runtime.stackSave();if(r)for(o=i.allocate(4*r,"*",i.ALLOC_STACK),t=0;t<r;++t)i.setValue(o+4*t,i.allocate(i.intArrayFromString(e[t]),"i8",i.ALLOC_STACK),"*");return n=i._procedure_setPlayableItemList(o,r),i.Runtime.stackRestore(a),0!==n}}};Object.defineProperty(s.procedure,"duration",{get:function(){return i._procedure_getDuration()},enumerable:!0,configurable:!0}),Object.defineProperty(s.procedure,"RANGE_FLAGS_SEEK_TO_START",{value:1,writable:!1}),Object.defineProperty(s.procedure,"RANGE_FLAGS_SEEK_TO_END",{value:2,writable:!1}),Object.defineProperty(s.procedure,"RANGE_FLAGS_REQUEST_NOTIFICATION",{value:4,writable:!1}),Object.defineProperty(s.procedure,"RANGE_FLAGS_DO_NOT_RECALCULATE_POSITION",{value:8,writable:!1}),Object.defineProperty(s.procedure,"RANGE_VALUE_CURRENT_STEP",{value:"%%CURRENT_STEP%%",writable:!1}),Object.defineProperty(s.procedure,"RANGE_VALUE_CURRENT_SUBSTEP",{value:"%%CURRENT_SUBSTEP%%",writable:!1}),e.exports={app:s}},function(e,t,n){var r=null,i=n(1).Module,o=n(0).app,a=!1,s={ui:{setBannerImage:function(e){i.PanelService&&e&&i.PanelService.setBannerImage(e)},showCanvas:function(e){i.canvas&&(e=void 0===e||!!e,i.canvas.style.display=e?"block":"none",o.ui.showPanels(e),a=e,e&&Cortona3DSolo.dispatch("core.didChangeLayout"))},showPanels:function(e){i.PanelService&&(e=void 0===e||!!e,i.PanelService.showPanels(e))},isDrawingDisplayMode:function(){var e=!1;return o.drawing&&(e=o.drawing.isVisible()&&!a),e},isCanvasVisible:function(){return a},toggleSpeakerIcon:function(e){if(i.PanelService){var t;e=void 0===e?!r:e,e?(t=document.createElement("div"),t.className="tiramisu-speaker",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),i.PanelService.appendChild(t),r=t,window.setTimeout(function(){t.style.opacity=1},300)):(t=r,r=null,t.style.opacity=0,window.setTimeout(function(){t.parentNode.removeChild(t)},300))}}}};e.exports={app:s}},function(e,t,n){function r(e,t,n){function r(){n?setTimeout(function(){try{s.revokeObjectURL(c)}catch(e){}},n):s.revokeObjectURL(c),t.removeEventListener("load",r,!1),t.removeEventListener("error",r,!1)}if(0!==e){void 0===n&&(n=t?0:-1);var o=i.getValue(e,"i32"),a=i.HEAPU8.subarray(e+4,e+o+4),s=window.URL||window.webkitURL||window,c=s.createObjectURL(new Blob([a]));return i._free(e),t||(t=new Image),n>=0&&(t.addEventListener("load",r,!1),t.addEventListener("error",r,!1)),t.src=c,t}}var i=n(1).Module,o=(n(1).Tiramisu,n(4).getBaseURL()),a={util:{createResourceURL:function(e){if(i.ccall){var t=i.ccall("tiramisu_copyResourceFromBundle","number",["string"],arguments);if(0!==t){var n=i.getValue(t,"i32"),r=i.HEAPU8.subarray(t+4,t+n+4),o=window.URL||window.webkitURL||window,a=o.createObjectURL(new Blob([r]));return i._free(t),a}}},revokeResourceURL:function(e){if(e&&/^blob:/i.test(e)){(window.URL||window.webkitURL||window).revokeObjectURL(e)}},fetchImageFromDocumentBundle:function(e,t){var n,a;return"string"==typeof e?(n=new Image,a=e):(n=e,a=n.getAttribute("src"),0===a.lastIndexOf(o,0)&&(a=a.slice(o.length))),r(i.ccall("tiramisu_copyResourceFromBundle","number",["string"],[unescape(a)]),n,t)},fetchBannerImage:function(){var e,t=i.Runtime.stackSave(),n=i.allocate(8,"i32",i.ALLOC_STACK),o=r(i.ccall("tiramisu_copyBannerImage","number",["number"],[n]));return o&&(e={image:o,frameCount:i.getValue(n,"i32"),frameDuration:i.getValue(n+4,"i32")/1e3}),i.Runtime.stackRestore(t),e},Vec3f:n(14),Rotation:n(36)}};e.exports={app:a}},function(e,t,n){var r=n(3),i=n(0).app,o=n(2).expand;n(33),n(32);var a=!1;r.core=o(r.core||{},r.config||{});var s=r.core=o({printErr:function(e){e=Array.prototype.slice.call(arguments).join(" "),console.error(e),r.core.lastErrorText=e},print:function(){},setStatus:function(e){},didChangeLayout:function(){if(a){var e=r.core.canvas,t=e.clientWidth,n=e.clientHeight;r.app.resize(t,n)}}},r.core);o(r.core,{onprogress:function(e){var t=e.lengthComputable||void 0===e.lengthComputable?e.total:0,n=e.loaded;r.dispatch("app.onProgress",n,t)},isRuntimeReady:function(){return a},onRuntimeInitialized:function(){setTimeout(function(){var e=n(1).Tiramisu,t=e.VERSION>>24,r=e.VERSION>>16&255,i=65535&e.VERSION,o=new Date(1e3*e.BUILD_TIME);console.log("Cortona3D Solo core v"+t+"."+r+" ("+i+"), "+o.toString())},10),a=!0,"function"==typeof s.didChangeLayout&&(window.addEventListener("resize",function(){r.dispatch("core.didChangeLayout")},!1),s.didChangeLayout(),r.dispatch("core.didChangeLayout")),i.ui&&i.ui.showCanvas(!1),r.emit("core.onRuntimeInitialized"),r.dispatch("app.onReady")}}),e.exports={configure:function(e){e=e||{};var t,a={};r.baseURL&&(a.memoryInitializerPrefixURL=r.baseURL),t=e.element||e.canvas||function(){var e=document.createElement("canvas");return n(13),document.body.insertBefore(e,document.body.firstChild),e}(),t.classList.add("cortona3dsolo-canvas"),e.prefixURL&&(a.memoryInitializerPrefixURL=e.prefixURL),"number"==typeof e.totalMemory&&(a.TOTAL_MEMORY=1024*e.totalMemory*1024),e.features&&i.configureInstance(e.features),o(r.core,a),Object.defineProperty(r.core,"canvas",{value:t,enumerable:!0});var s=n(1),c=s.Module,u=s.Arguments;return e.src&&(u.document=e.src),e.features&&(u.features=32767&e.features),s.load(),c}}},function(e,t,n){function r(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function i(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function o(e,t){function n(){f=null}d=d.then(function(){return f=e,t()}).then(n,n)}function a(e,t){for(var n,r=e,i=/^\.+\//,o=t.slice(0,t.length-1);o.length&&i.test(r);)n=o.pop(),n=n.substr(n.indexOf("!")+1),r=n.substr(0,n.lastIndexOf("/")+1)+r;return r}function s(e,t){function n(t,n){if(_.shim[t])return c(t,n);var r=i();return r.name=t,r.path=n,r.context=e,o(r,function(){return d(a(t,n)).catch(function(){r.reject(new Error('Error while loading module "'+t+'"'))})}),r.promise}function c(e,t){var n=_.shim[e];return v(n.deps||[],function(){return d(a(e,t)).then(n.exportsFn||function(){return n.init&&n.init()||r(window,n.exports)})},null,t)}function d(e){return new Promise(function(t,n){var r=g.load(null,e,y(e,!0));r.onerror=n,r.onload=t})}function h(e,t){var n=e.indexOf("!"),r=e.substr(0,n),i=s(null).getContext();return e=e.substr(n+1),i._require([r],function(n){return new Promise(function(r,i){function o(){if(!s)return g.apply(null,arguments)}Object.keys(g).forEach(function(e){o[e]=g[e]});var s=!1;r.error=i,r.fromText=function(e,n){n||(n=e);var o=f;f={name:e,resolve:r,reject:i,path:t},new Function(n)(),f=o,s=!0},n.load(a(e,t),o,r,_)})},null,t)}function m(e,t){var n=[];return t.toString().replace(E,"").replace(T,function(e,t){n.push(t)}),{deps:n,factory:function(){var r=arguments,i=n.reduce(function(e,t,n){return e[t]=r[n],e},{});return t(function(e){if(!i[e])throw new Error('Module "'+n+'" has not been loaded yet');return i[e]},x.exports(e),x.module(e))}}}function v(e,t,i,o){var a=o.slice(-1)[0];return new Promise(function(t,r){Promise.all(e.map(function(e){if(o.indexOf(e)>-1)return Promise.reject(new Error("Circular dependency: "+o.concat(e).join(" -> ")));var t=o.concat(e);return x[e]?x[e](a):(e.indexOf("!")>-1&&(b[e]=h(e,t)),w[e]?b[e]=Promise.resolve().then(function(){return v.apply(null,w[e].concat([t]))}):b[e]||(b[e]=n(e,t)),b[e])})).then(t,r)}).then(function(e){if(l(t)){var n=t.apply(null,e);return a&&r(b[a],"module.exports")||n}return t},function(e){return l(i)&&i(e),g.onError(e),Promise.reject(e)})}function g(e,t,n){return v(e,t,n,[])}function y(e,t){var n=Object.keys(_.bundles).filter(function(t){return _.bundles[t].indexOf(e)>-1})[0];return n?g.toUrl(n):(_.paths[e]&&(e=_.paths[e]),/^([\w\+\.\-]+:)?\//.test(e)||(e=_.baseUrl+e),t&&(e+=".js"),_.urlArgs&&(e+="?"+_.urlArgs),e)}if(t=t||{},!p[e]){var b,w,_,E=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,T=/[^.]\s*require\s*\(\s*["']([^!'"\s][^'"\s]*)["']\s*\)/g,x={require:function(e){return g},module:function(e){var t=b[e];if(!t)throw new Error('Module "module" should be required only by modules');return t.module=t.module||{id:e,config:function(){return _.config[e]||{}}}},exports:function(e){return x.module(e).exports={}}};g.resetContext=function(){_={urlArgs:"",baseUrl:"./",paths:{},shim:{},bundles:{},config:{}},b={},w={}},g.config=function(e){if(e.context)return s(e.context,e);_=u(_,e)},g.load=function(e,t,n){var r=document.createElement("script");return r.src=n,r.async=!0,document.getElementsByTagName("body")[0].appendChild(r),r},g.toUrl=function(e){return y(e,!1)},g.specified=function(e){return b.hasOwnProperty(e)},g.onError=function(e){console.error(e)},g.resetContext(),g.getContext=function(){return{config:_,modules:b,predefines:w,wrapCommonJS:m,_require:v}},p[e]=g}var S=u({},t);return delete S.context,p[e].config(S),p[e]}function c(e,t,n){"string"!=typeof e&&(n=t,t=e,e=null),Array.isArray(t)||(n=t,t=[]);var r=f,i=s(e?null:r&&r.context).getContext();if(null===e&&!r)throw new Error("Unexpected define!");if(0===t.length&&n.length>0){var o=i.wrapCommonJS(e||r.name,n);t=o.deps,n=o.factory}if(null===e||r&&r.name===e){var a=i._require(t,n,r.reject,r.path);r.resolve(a)}else i.predefines[e]=[t,n,null]}var u=n(35),l=n(2).isFunction,p={},d=Promise.resolve(),f=null;c.amd={};var h=s(null);e.exports={define:c,require:h,requirejs:h}},function(e,t,n){t=e.exports=n(5)(void 0),t.push([e.i,"body,html{margin:0;height:100%}",""])},function(e,t,n){t=e.exports=n(5)(void 0),t.push([e.i,".cortona3dsolo-svg{width:100%;height:100%;display:block;position:absolute}.cortona3dsolo-svg a:hover{cursor:pointer;text-decoration:none}",""])},function(e,t,n){t=e.exports=n(5)(void 0),t.push([e.i,".cortona3dsolo-canvas{position:absolute;width:100%;height:100%;display:block}.cortona3dsolo-popover{touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tiramisu-speaker{display:inline-block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box}.tiramisu-panel{white-space:normal;word-wrap:break-word}.dpl-table{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;padding:0;border-spacing:0;border-collapse:collapse;cursor:default;border:1px solid grey}.dpl-table td{padding:4px;vertical-align:top;border-right:1px solid grey}.dpl-table thead{font-size:10pt}.dpl-table tbody{margin:0;padding:0;font-size:10pt}.dpl-table thead td{border-bottom:1px solid grey;background:linear-gradient(180deg,#fff 0,#f8f8f8)}.dpl-table tbody tr.selected{background:linear-gradient(180deg,#abd3ee 0,#89c3eb)}.dpl-table tbody td.hover{background-color:#c8e8ff}.dpl-table tbody tr.hidden{display:none}.dpl-table thead pre{font-family:sans;padding:0;margin:0}.dpl-table td.strut{padding:0 4px}.dpl-table td.strut div{height:1px;overflow:hidden;white-space:nowrap}.dpl-table tr{transition:all .3s}.dpl-table tr.hover,.dpl-table tr:hover{background-color:#c8e8ff}.dpl-table td:last-of-type{border-right:0}.dpl-table tr:last-child td{border-bottom:1px solid grey}.dpl-table pre,pre.dpl-table-measure{margin-top:0;margin-bottom:0}.dpl-checkbox{padding:0;margin:0 .4em 0 0;display:inline}.dpl-checkbox:hover{color:#367ebd}.tiramisu-proc-title{font-weight:700}.tiramisu-proc-item,.tiramisu-proc-title{display:block;padding:4px;margin-bottom:2px;cursor:default}.tiramisu-proc-item{border-radius:10px;border:1px solid transparent;-webkit-transition:background-color .3s ease-out,border-color .3s ease-out}.tiramisu-proc-item.highlighted{background-color:#e5f4ff;border:1px solid #c8e8ff}.tiramisu-proc-item.selected{border:1px solid #80a2bc}.tiramisu-proc-item:hover{background-color:#e5f4ff;border:1px solid #c8e8ff}.tiramisu-proc-item.selected:hover{background-color:#a3daff;border:1px solid #80a2bc}.tiramisu-proc-item-number{display:table-cell;width:24px;padding-right:6pt;cursor:default}.tiramisu-proc-item-content{display:table-cell;width:100%;cursor:default}.thumbnail{max-width:100%;max-height:100%;margin-top:3pt}",""])},function(e,t,n){t=e.exports=n(5)(void 0),t.push([e.i,"#tiramisu-panel-group{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;visibility:hidden}.tiramisu-panel{position:absolute;box-sizing:border-box;overflow:hidden;pointer-events:none;font-family:serif;font-size:10pt;border-style:solid}.tiramisu-panel,.tiramisu-panel p{padding:0;margin:0}.tiramisu-panel-measure{position:absolute;font-family:serif;font-size:10pt;visibility:hidden;padding:0;margin:0;left:0;top:0}.tiramisu-banner{right:8px;overflow:hidden;padding:0;margin:0;z-index:10}.tiramisu-banner,.tiramisu-speaker{position:absolute;bottom:8px;visibility:visible;pointer-events:none}.tiramisu-speaker{display:inline-block;z-index:100;background-color:hsla(0,0%,94%,.5);border-radius:50%;padding:6px;left:8px;width:26px;height:26px;opacity:0;transition:opacity .3s ease-in-out}.tiramisu-speaker div{width:0;height:0;border:6px solid transparent;border-right-color:inherit;border-left:none;box-shadow:inset 10px 0;display:inline-block;padding:5px 3px;margin:2px}.tiramisu-speaker span{position:absolute;display:inline-block;border:1px solid transparent;border-right:1px solid #444;border-radius:50%;margin:auto;top:0;bottom:0;right:0;animation:tiramisu-wave-animation 1s linear 0s infinite alternate}.tiramisu-speaker span:nth-child(2){width:13px;height:13px;left:1px}.tiramisu-speaker span:nth-child(3){width:19px;height:19px;left:1px;animation-delay:.3s}.tiramisu-speaker span:last-child{width:25px;height:25px;left:0;animation-delay:.6s}@keyframes tiramisu-wave-animation{0%{opacity:1}to{opacity:.1}}",""])},function(e,t,n){(function(t,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function o(e){G=e}function a(e){Y=e}function s(){return void 0!==F?function(){F(u)}:c()}function c(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<H;e+=2){(0,Z[e])(Z[e+1]),Z[e]=void 0,Z[e+1]=void 0}H=0}function l(e,t){var n=arguments,r=this,i=new this.constructor(d);void 0===i[ee]&&A(i);var o=r._state;return o?function(){var e=n[o-1];Y(function(){return L(o,i,e,r._result)})}():x(r,i,e,t),i}function p(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return w(n,e),n}function d(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return ie.error=e,ie}}function v(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function g(e,t,n){Y(function(e){var r=!1,i=v(n,t,function(n){r||(r=!0,t!==n?w(e,n):E(e,n))},function(t){r||(r=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,T(e,i))},e)}function y(e,t){t._state===ne?E(e,t._result):t._state===re?T(e,t._result):x(t,void 0,function(t){return w(e,t)},function(t){return T(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===p?y(e,t):n===ie?(T(e,ie.error),ie.error=null):void 0===n?E(e,t):i(n)?g(e,t,n):E(e,t)}function w(t,n){t===n?T(t,f()):e(n)?b(t,n,m(n)):E(t,n)}function _(e){e._onerror&&e._onerror(e._result),S(e)}function E(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&Y(S,e))}function T(e,t){e._state===te&&(e._state=re,e._result=t,Y(_,e))}function x(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=n,i[o+re]=r,0===o&&e._state&&Y(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?L(n,r,i,o):i(o);e._subscribers.length=0}}function O(){this.error=null}function I(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function L(e,t,n,r){var o=i(n),a=void 0,s=void 0,c=void 0,u=void 0;if(o){if(a=I(n,r),a===oe?(u=!0,s=a.error,a.error=null):c=!0,t===a)return void T(t,h())}else a=r,c=!0;t._state!==te||(o&&c?w(t,a):u?T(t,s):e===ne?E(t,a):e===re&&T(t,a))}function R(e,t){try{t(function(t){w(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}function C(){return ae++}function A(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[ee]||A(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&E(this.promise,this._result))):T(this.promise,j())}function j(){return new Error("Array Methods must be provided an Array")}function D(e){return new P(this,e).promise}function M(e){var t=this;return new t(z(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function N(e){var t=this,n=new t(d);return T(n,e),n}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this[ee]=C(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&k(),this instanceof B?R(this,e):U())}function V(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}var $=void 0;$=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=$,H=0,F=void 0,G=void 0,Y=function(e,t){Z[H]=e,Z[H+1]=t,2===(H+=2)&&(G?G(u):Q())},X="undefined"!=typeof window?window:void 0,q=X||{},W=q.MutationObserver||q.WebKitMutationObserver,K="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),Q=void 0;Q=K?function(){return function(){return t.nextTick(u)}}():W?function(){var e=0,t=new W(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():J?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===X?function(){try{var e=n(43);return F=e.runOnLoop||e.runOnContext,s()}catch(e){return c()}}():c();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new O,oe=new O,ae=0;return P.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===p){var i=m(e);if(i===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===B){var o=new n(d);b(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},P.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?T(r,n):this._result[t]=n),0===this._remaining&&E(r,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},B.all=D,B.race=M,B.resolve=p,B.reject=N,B._setScheduler=o,B._setAsap=a,B._asap=Y,B.prototype={constructor:B,then:l,catch:function(e){return this.then(null,e)}},B.polyfill=V,B.Promise=B,B})}).call(t,n(30),n(34))},function(e,t,n){e.exports=n.p+"Cortona3DSolo.js.mem"},function(e,t,n){e.exports=n.p+"Cortona3DSoloCore.js"},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?h=f.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(f=h,h=[];++v<t;)f&&f[v].run();v=-1,t=h.length}f=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,p,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,h=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){var r=n(24);"string"==typeof r&&(r=[[e.i,r,""]]);n(6)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(25);"string"==typeof r&&(r=[[e.i,r,""]]);n(6)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.i,r,""]]);n(6)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(e,t){var r=Array.isArray(t),i=r&&[]||{};return r?(e=e||[],i=i.concat(e),t.forEach(function(t,r){void 0===i[r]?i[r]=t:"object"==typeof t?i[r]=n(e[r],t):-1===e.indexOf(t)&&i.push(t)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){i[t]=e[t]}),Object.keys(t).forEach(function(r){"object"==typeof t[r]&&t[r]&&e[r]?i[r]=n(e[r],t[r]):i[r]=t[r]})),i}e.exports=n},function(e,t,n){function r(){if(4==arguments.length)this.x=arguments[0],this.y=arguments[1],this.z=arguments[2],this.angle=arguments[3];else if(2==arguments.length)if("number"==typeof arguments[1])this.setAxis(arguments[0]),this.angle=arguments[1];else{var e=arguments[0].normalize(),t=arguments[1].normalize(),n=e.cross(t),r=n.length();r<=1.192092896e-7?e.dot(t)<0?(n=e.cross(new i(1,0,0)),this.angle=Math.PI,r=n.length(),r<=1.192092896e-7&&(n=e.cross(new i(0,1,0))),n=n.normalize()):(n=new i(0,1,0),this.angle=0):(this.angle=Math.atan2(r,e.dot(t)),n=n.normalize()),this.setAxis(n)}else 1==arguments.length&&"object"==typeof arguments[0]&&null!==arguments[0]&&4===arguments[0].length?(this.x=arguments[0][0],this.y=arguments[0][1],this.z=arguments[0][2],this.angle=arguments[0][3]):(this.x=0,this.y=1,this.z=0,this.angle=0)}var i=n(14);r.prototype.toArray=function(){return[this.x,this.y,this.z,this.angle]},r.prototype.multVec=function(e){var t=-this.angle,n=Math.sin(t),r=Math.cos(t),o=this.x,a=this.y,s=this.z,c=e.x,u=e.y,l=e.z,p=(o*c+a*u+s*l)*(1-r);return new i(o*p+r*c+n*(s*u-a*l),a*p+r*u+n*(o*l-s*c),s*p+r*l+n*(a*c-o*u))},r.prototype.inverse=function(){return new r(this.x,this.y,this.z,-this.angle)},r.prototype.multiply=function(e){var t=e.angle,n=Math.sin(t/2),i=Math.cos(t/2),o=e.getAxis().multiply(n),a=Math.sin(this.angle/2),s=Math.cos(this.angle/2),c=this.getAxis().multiply(a),u=i*s-o.dot(c),l=o.multiply(s).add(c.multiply(i)).add(c.cross(o)),p=l.x*l.x+l.y*l.y+l.z*l.z,d=new r(0,0,1,0);if(0!==p){var f=Math.sqrt(p);d.setAxis(l.divide(f)),d.angle=2*Math.atan2(f,u)}return d},r.prototype.setAxis=function(e){this.x=e.x,this.y=e.y,this.z=e.z},r.prototype.getAxis=function(){return new i(this.x,this.y,this.z)},r.prototype.toString=function(){return this.toArray().join(" ")},e.exports=r},function(e,t){function n(){}n.prototype.$=function(e){var t=e||this;if("string"==typeof e)if("*"===e){t=[];for(var n in this)this.hasOwnProperty(n)&&"#text"!==n&&"@attributes"!==n&&(t=t.concat(this[n]))}else{t=this;for(var r=e.split("/"),i=0;i<r.length&&t;i++)t=t[r[i]]}return t?t.map?t:[t]:[]},n.prototype.$text=function(e){return e?this.$(e).map(function(e){return e.$text()}).join(""):this["#text"]||""},n.prototype.$attr=function(e){return this["@attributes"]?this["@attributes"][e]:null},e.exports=n},function(e,t,n){var r=n(3),i=(n(0).app,-1),o={dpl:{setupTable:function(e){if(e){i=-1;var t,n;Array.prototype.slice.call(e.rows).forEach(function(i){if(i.id){var o=+i.id.substring(3);i.setAttribute("data-index",o),i.onmouseover=function(e){clearTimeout(t);var i=+this.getAttribute("data-index");n!==i&&(n=null,r.dispatch("app.ipc.dpl.didHoverRow",i))},i.onmouseout=function(e){n=+this.getAttribute("data-index"),clearTimeout(t),t=setTimeout(function(){r.dispatch("app.ipc.dpl.didHoverRow",-1),n=null},10)},i.onclick=function(e){var t=+this.getAttribute("data-index"),n=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4);r.dispatch("app.ipc.dpl.didSelectRow",t,n)},i.oncontextmenu=function(t){var n=+this.getAttribute("data-index"),i=e,o=i.getBoundingClientRect(),a=t.clientX-o.left,s=t.clientY-o.top;r.dispatch("app.ipc.dpl.didCallContextMenu",n,a,s,i),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},r.dispatch("app.ipc.dpl.didSetupRow",i,o)}})}},hoverRow:function(e){var t;i>=0&&(t=document.getElementById("row"+i))&&t.classList.remove("hover"),e>=0&&(t=document.getElementById("row"+e))&&t.classList.add("hover"),i=e},highlightRow:function(e,t){t=void 0===t||t;var n=document.getElementById("row"+e);n&&n.classList.toggle("hover",t)},selectRow:function(e,t){t=void 0===t||t;var n=document.getElementById("row"+e);n&&n.classList.toggle("selected",t)},toggleRow:function(e,t){var n=document.getElementById("row"+e);n&&(t=void 0===t?n.classList.contains("hidden"):t,n.classList.toggle("hidden",!t))}}};e.exports=o.dpl},function(e,t,n){function r(e,t){return e.$("metadata/value").filter(function(e){return e.$attr("decl-id")==t}).reduce(function(e,t){return e+t.$text()},"")}function i(e){var t=e.$("metadata/value").filter(function(e){return 5==e.$attr("role")});return t.length>0&&(t=+t[0].$text()||0),t}var o=n(0).app,a=n(2).expand,s=o.ipc.interactivity,c=s.json,u=o.getDocumentInfo(),l=u.baseURL,p=n(9),d={dpl:[],def:[],prefferedViews:[],sheets:{},options:{},metadata:{},info:[]},f=c.$("ipc/figure/dplist/item").map(function(e){return e.$attr("id")}),h={};u.sheets.forEach(function(e){var t=c.$("ipc/figure/views/view").filter(function(t){return t.$attr("id")===e.id})[0],n=a(e,{items:t.$("refItem").map(function(e){return f.indexOf(e.$attr("ref"))}).sort(function(e,t){return e-t})}),r=t.$("refmedia").filter(function(e){return 1!=e.$attr("ref")});if(r.length>0){var i=r[0].$attr("ref"),o=c.$("ipc/figure/media").filter(function(e){return e.$attr("id")==i})[0].$attr("src");n.drawing=l+o}h[e.id]=n});var m=n(10)(c),v=p(c.$("ipc/figure/metadata/value")),g=c.$("ipc/figure/dplist/item").map(function(e,t,n){for(var o=i(e)-1,a=-1,s=t-1;s>=0;s--){if(1!==(+r(n[s],"ASP")||0)&&i(n[s])===o)break}for(;s>=0;s--)if(i(n[s])===o&&!+r(n[s],"NIL")){a=s;break}return a}),y=c.$("ipc/figure/dplist/item").map(function(e,t){var n={row:t},r=e.$("metadata/value");n.id=e.$attr("id"),n.metadata=p(r),n.part={},n.part.id=e.$attr("refPart");var i=s.json.$("ipc/parts/part").reduce(function(e,t){return t.$attr("id")==n.part.id?t:e}),o=i.$("metadata/value");return n.part.metadata=p(o),n.roles=new Array(8),r.concat(o).forEach(function(e){var t=+e.$attr("role");t&&(n.roles[t]=e.$text())}),n.sheetId=e.refview?e.refview.$attr("ref"):"",n.screentip=e.tooltip?e.$text("tooltip"):"",n.objectNames=e.$("refmedia").filter(function(e){return 1==e.$attr("ref")}).map(function(e){return e.$text()}),n});d={dpl:c.$("ipc/figure/dplist/item").map(function(e,t){var n;return s.willGetCSNString?n=s.willGetCSNString(y[t],t):(n=y[t].roles[3]||"",n+=y[t].roles[4]||""),n}),info:y,def:c.$("ipc/figure/dplist/item").map(function(e,t){return y[t].objectNames}),prefferedViews:c.$("ipc/figure/dplist/item").map(function(e,t){return y[t].sheetId}),sheets:h,options:m,metadata:v,parent:g,children:g.map(function(e,t,n){return n.reduce(function(e,n,r,i){return n===t?e.concat(r):e},[])})};var b={ipc:{interactivity:{getRowByIndex:function(e){var t=o.ipc.getCurrentSheet().id;return d.sheets[t].items[e]},getIndexByRow:function(e){var t=o.ipc.getCurrentSheet().id;return d.sheets[t].items.indexOf(e)},getRowByItem:function(e){return d.dpl.indexOf(e)},getItemByRow:function(e){return d.dpl[e]},getIndexByItem:function(e){return s.getIndexByRow(s.getRowByItem(e))},getItemByIndex:function(e){return s.getItemByRow(s.getRowByIndex(e))},getRowByObjectName:function(e){var t,n=d.def;for(t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1},getObjectsNamesByRow:function(e){return d.def[e]},getDrawingForIPCView:function(e){var t=d.sheets[e];return t&&t.drawing||""},getSheetInfo:function(e){return d.sheets[e]},getOptions:function(){return d.options},getProjectMetadata:function(){return d.metadata},getScreenTip:function(e){var t=s.getRowByIndex(e);return s.getItemInfo(t).screentip},getPrefferedSheetId:function(e){var t=s.getRowByIndex(e);return s.getItemInfo(t).sheetId},getItemInfo:function(e){return d.info[e]},getParent:function(e){return d.parent[e]},getChildren:function(e,t){var n=[],r=d.children[e];return t?r.forEach(function(e){n.push(e),n=n.concat(s.getChildren(e,t))}):n=r,n}}}};e.exports={app:b}},function(e,t,n){function r(e,t){t=t||c.SimulationInteractivity.Simulation;var n,i="";if(t.$attr("id")!=e){if(t.Step)for(n=0;n<t.Step.length&&!i;n++)i=r(e,t.Step[n]);else if(t.Substep)for(n=0;n<t.Substep.length&&!i;n++)i=r(e,t.Substep[n])}else i=t.$text("Description");return i}function i(e,t){var n=e.$attr("id");p.procedureItems[n]={id:n,type:"event",description:e.$text("Description"),eventType:e.$text("Type").toUpperCase(),parent:t}}function o(e,t){var n,a=e.$attr("id"),s={id:a,comment:e.$text("Comment"),description:r(a),children:e.$("Item").map(function(e){return e.$attr("id")}),actions:e.$("Action").map(function(e){return e.$attr("id")})};if(s.type=s.children.length+s.actions.length>0?"step":"action",t&&(s.parent=t),"action"==s.type){delete s.children,delete s.actions;var u=c.$("SimulationInteractivity/Simulation/Step");for(n=0;n<u.length;n++){var l=u[n],d=l.$("Substep").filter(function(e){return e.$attr("id")==a});if(d.length>0){s.parentStep=l.$attr("id"),s.events=d[0].$("Event").map(function(e){return i(e,a),e.$attr("id")});break}}}p.procedureItems[a]=s,e.$("Action").forEach(function(e){o(e,a)}),e.$("Item").forEach(function(e){o(e,a)})}var a=n(0).app,s=a.procedure.interactivity,c=s.json,u=a.getDocumentInfo(),l=(u.baseURL,n(9)),p={defs:{},docitems:{},procedureItems:{},options:{},metadata:{}};c.$("SimulationInteractivity/DocItems/DocItem").forEach(function(e){var t=e.$attr("id"),n={};e.$("metadata/value").forEach(function(e){var t=e.$text();n[e.$attr("name")]=t,n["{"+e.$attr("decl-id")+"}"]=t}),p.defs[t]=n;var r=n["{DocID}"];p.docitems[r]||(p.docitems[r]=[]),p.docitems[r].push(t)}),p.pictures=c.$("SimulationInteractivity/Resources/Picture").map(function(e){return{description:e.$attr("descr"),drawing:u.baseURL+e.$text()}}),p.options=n(10)(c),p.metadata=l(c.$("SimulationInteractivity/SimulationInformation/metadata/value")),p.procedureId=c.SimulationInteractivity.Simulation.$attr("id"),o(c.SimulationInteractivity.Procedure),p.procedureItems[p.procedureId].type="procedure",p.procedureItems[p.procedureId].comment=c.$text("SimulationInteractivity/Simulation/Comment");var d={procedure:{interactivity:{getProcedureId:function(){return p.procedureId},getDrawings:function(){return p.pictures},getDocIdByObjectName:function(e){var t=p.defs[e];return t?t["{DocID}"]:null},getObjectNamesByDocId:function(e){return p.docitems[e]},getDocItemMetadata:function(e){return p.defs[e]},getDocItems:function(){var e=[];for(var t in p.docitems)e.push(t);return e},getProcedureItemInfo:function(e){return p.procedureItems[e]},getOptions:function(){return p.options},getProjectMetadata:function(){return p.metadata}}}};e.exports={app:d}},function(e,t,n){function r(e){for(var t=e;t&&"a"!=t.nodeName.toLowerCase();)t=t.parentNode;return t}function i(){1===V&&(I=x.getBBox());var e=I,t=S.clientWidth,n=S.clientHeight,r=e.width,i=e.height,o=t/n,a=r/i;return o>a?(i=n,r=i*a):o<a?(r=t,i=r/a):(i=n,r=t),{h:i,w:r,scale:e.width/r}}function o(e,t){var n=i();a($+e*n.scale,z+t*n.scale)}function a(e,t){var n=S.clientWidth,r=S.clientHeight,o=i(),a=o.w,s=o.h,c=o.scale,u=a*V,l=s*V,p=-Math.abs(n-a)/2,d=-Math.abs(r-s)/2;$=u<=n?Math.max(Math.min(e,(p+n-u)*c),p*c):Math.max(Math.min(e,p*c),(p+n-u)*c),z=l<=r?Math.max(Math.min(t,(d+r-l)*c),d*c):Math.max(Math.min(t,d*c),(d+r-l)*c)}function s(e,t,n){$=e,z=t,V=n,Q.dispatch("onZoomChange",V),c()}function c(){O&&(clearTimeout(A),A=setTimeout(function(){var e=O.transform.baseVal;e.getItem(0).setTranslate($,z),e.getItem(1).setScale(V,V)},0))}function u(){var e=document.createElement("div");return e.appendChild(x.cloneNode(!0)),e.firstChild.removeAttribute("id"),e.firstChild.removeAttribute("style"),e.innerHTML}function l(){return x}function p(){var e,t,n,r=x.getElementsByTagName("a");if(Y){for(n=0;n<r.length;n++)!function(n){var r=n.getAttribute("name");if(r||(console.log('WARNING: Element "'+n.tagName+'" has no "name" attribute. It uses text content instead'),(r=n.textContent.trim())&&n.setAttribute("name",r)),r){t=new N.Manager(n,{recognizers:[[N.Press,{time:k}],[N.Tap]]}),t.on("press",function(e){"mouse"!==e.pointerType&&J.contextmenu(e.srcEvent)}),t.on("tap",function(e){var t=e.srcEvent||e,n=+(t.shiftKey&&1)|+(t.ctrlKey&&2)|+(t.altKey&&4);Q.dispatch("didClickHotspot",r,n)}),B.push(t);for(e in J)n.addEventListener(e,J[e],!1)}}(r[n]);t=new N.Manager(S);var u=new N.Press({time:k}),l=new N.Tap({event:"doubletap",taps:2,threshold:5,posThreshold:100,interval:U}),p=new N.Pinch({enable:!0}),d=new N.Pan({pointers:0,threshold:1});p.recognizeWith(d),t.add(u),t.add(l),t.add(p),t.add(d),t.set({touchAction:"none"}),t.on("press",function(e){"mouse"!==e.pointerType&&J.contextmenu(e.srcEvent)}),t.on("doubletap",function(e){if(V>1)b();else{var t=S.clientWidth,n=S.clientHeight,r=i(),o=r.w,a=r.h,c=S.getBoundingClientRect(),u=e.srcEvent.clientX-c.left,l=e.srcEvent.clientY-c.top,p=(u-(t-o)/2-$/r.scale)/V*r.scale,d=(l-(n-a)/2-z/r.scale)/V*r.scale;s($+-3*p*V,z+-3*d*V,4*V)}}),t.on("pinchstart",function(e){C=1}),t.on("pinch",function(e){var t=S.clientWidth,n=S.clientHeight,r=i(),o=r.w,u=r.h,l=Math.max(F,Math.min(H,(1-(C-e.scale))*V))/V,p=S.getBoundingClientRect(),d=e.center.x,f=e.center.y,h=d-p.left,m=f-p.top,v=(h-(t-o)/2-$/r.scale)/V*r.scale,g=(m-(n-u)/2-z/r.scale)/V*r.scale,y=$+v*(1-l)*V,b=z+g*(1-l)*V;l>1?s(y,b,V*l):(V*=l,Q.dispatch("onZoomChange",V),a(y,b),c()),C=e.scale}),t.on("panstart",function(e){S.style.cursor="move",L=0,R=0}),t.on("panend",function(e){S.style.cursor="default"}),t.on("pan",function(e){o(e.deltaX-L,e.deltaY-R),L=e.deltaX,R=e.deltaY,c()}),B.push(t);for(e in Z)S.addEventListener(e,Z[e],!1)}}function d(){var e,t,n,r=x.getElementsByTagName("a");for(n=0;n<r.length;n++){t=r[n],t.__mc&&t.__mc.destroy(),delete t.__mc;for(e in J)t.removeEventListener(e,J[e],!1)}for(e in Z)S.removeEventListener(e,Z[e],!1);B.forEach(function(e){e.destroy()}),B.length=0,V=1,$=0,z=0}function f(e,t){if(e!=X){if(W&&(W.abort(),W=null),q&&(q.onload=null,q=null),!e)return void(X="");if(t||/\.(png|jpe?g|jpe|gif)$/i.test(e)){var n=new Image;n.onload=function(){h();var t=document.createElementNS(D,"image");t.setAttribute("image-rendering","optimizeQuality"),t.setAttribute("width",n.width),t.setAttribute("height",n.height),x.setAttribute("viewBox","0 0 "+n.width+" "+n.height),t.setAttributeNS(M,"href",n.src),O=document.createElementNS(D,"g");var r=O.transform.baseVal;r.initialize(x.createSVGTransform()),r.appendItem(x.createSVGTransform()),O.appendChild(t),x.appendChild(O),Y=!0,Q.dispatch("didCompleteLoad",n.src),G||p(),X=e},n.src=e,q=n}else{var r=new window.XMLHttpRequest;r.overrideMimeType&&r.overrideMimeType("image/svg+xml");try{r.open("GET",e,!0),r.onerror=function(){Q.dispatch("onProgress",0,-1),Q.dispatch("failedLoadingDocument",e,r.status)},r.onprogress=function(e){var t=e.loaded,n=e.lengthComputable||void 0===e.lengthComputable?e.total:0;Q.dispatch("onProgress",t,n)},r.onload=function(){if(Q.dispatch("onProgress",0,-1),r.responseXML){var t=document.createElement("div");t.innerHTML=r.response;var n=t.querySelector("svg");if(n){d();var i=x.style.cssText,o=x.getAttribute("class");x.parentNode.replaceChild(n,x),x=n,x.setAttribute("touch-action","none"),x.style.touchAction="none";var a=n.getElementsByTagName("title")[0];a&&n.removeChild(a);var s=Array.prototype.slice.call(n.childNodes||n.children).filter(function(e){var t=e.nodeName;return"#text"!==t&&"title"!==t&&"defs"!==t&&"desc"!=t});O=document.createElementNS(D,"g");var c=O.transform.baseVal;c.initialize(n.createSVGTransform()),c.appendItem(n.createSVGTransform()),s.forEach(function(e){O.appendChild(e)}),n.appendChild(O),n.getAttribute("viewBox")||n.setAttribute("viewBox","0 0 "+n.getAttribute("width")+" "+n.getAttribute("height")),n.style.cssText=i,n.setAttribute("class",o),Y=!0,Q.dispatch("didCompleteLoad",e),G||p(),X=e}}else Q.dispatch("failedLoadingDocument",e,r.status)},r.send(null),W=r}catch(t){Q.dispatch("failedLoadingDocument",e,t.message),X=""}}}}function h(){for(d();x.firstChild;)x.removeChild(x.firstChild);Y=!1}function m(e,t){Array.prototype.slice.call(x.getElementsByTagName("a")).forEach(function(n){n.getAttribute("name")===e&&Array.prototype.slice.call(n.getElementsByTagName("path")).forEach(function(e){K.flags&Q.HOTSPOT_HIGHLIGHT_SOLID?(e.style.fill=t,e.style.fillOpacity=1):(e.style.stroke=t,e.style.strokeOpacity=1)})})}function v(e,t){Array.prototype.slice.call(x.getElementsByTagName("a")).forEach(function(t){t.getAttribute("name")===e&&Array.prototype.slice.call(t.getElementsByTagName("path")).forEach(function(e){K.flags&Q.HOTSPOT_HIGHLIGHT_SOLID?(e.style.fill=e.style.stroke,e.style.fillOpacity=e.style.strokeOpacity):(e.style.stroke="",e.style.strokeOpacity="")})})}function g(e,t){Array.prototype.slice.call(x.getElementsByTagName("a")).forEach(function(n){n.getAttribute("name")===e&&Array.prototype.slice.call(n.getElementsByTagName("path")).forEach(function(e){K.flags&Q.HOTSPOT_HIGHLIGHT_SOLID&&(e.style.stroke=t,e.style.strokeOpacity=1),e.style.fill=t,e.style.fillOpacity=1})})}function y(e,t){Array.prototype.slice.call(x.getElementsByTagName("a")).forEach(function(t){t.getAttribute("name")===e&&Array.prototype.slice.call(t.getElementsByTagName("path")).forEach(function(e){K.flags&Q.HOTSPOT_HIGHLIGHT_SOLID&&(e.style.stroke="",e.style.strokeOpacity=""),e.style.fill="",e.style.fillOpacity=""})})}function b(){s(0,0,1)}function w(e){1===V&&(I=x.getBBox());var t=I,n=S.clientWidth,r=S.clientHeight,i=t.width,a=t.height,s=n/r,u=i/a;s>u?(a=r*V,i=a*u):s<u?(i=n*V,a=i/u):(a=r*V,i=n*V);var l=Math.max(F,Math.min(H,V+e)),p=(V-l)/2;V=l,o(i*p,a*p),c()}function _(){d(),x.style.visibility="hidden",G=!0}function E(){p(),x.style.visibility="visible",G=!1}function T(e,t){e.setAttribute("touch-action","none"),e.style.touchAction="none",x=e,S=e.parentNode,K=t||{},K.flags||(K.flags=0),_()}var x,S,O,I,L,R,C,A,P=n(2).expand,j=n(11).EventEmitter,D="http://www.w3.org/2000/svg",M="http://www.w3.org/1999/xlink",N=n(12),k=1e3,U=250,B=[],V=1,$=0,z=0,H=10,F=1,G=!0,Y=!1,X="",q=null,W=null,K={},J={mouseover:function(e){e=e||window.event;var t=r(e.target||e.srcElement),n=t?t.getAttribute("name"):"";Q.dispatch("didEnterHotspot",n),e.preventDefault()},mouseout:function(e){e=e||window.event;var t=r(e.target||e.srcElement),n=t?t.getAttribute("name"):"";Q.dispatch("didLeaveHotspot",n),e.preventDefault()},contextmenu:function(e){e=e||window.event;var t=e.target||e.srcElement,n=r(t),i=n?n.getAttribute("name"):"",o=S.getBoundingClientRect(),a=e.clientX-o.left,s=e.clientY-o.top;Q.dispatch("didCallContextMenu",i,a,s,S),e.preventDefault(),e.stopPropagation()}},Z={contextmenu:J.contextmenu,wheel:function(e){e=e||window.event;var t=e.deltaY<0?-10:10,n=S.clientWidth,r=S.clientHeight,o=i(),u=o.w,l=o.h,p=Math.max(F,Math.min(H,(1-t/100)*V))/V,d=S.getBoundingClientRect(),f=e.clientX-d.left,h=e.clientY-d.top,m=(f-(n-u)/2-$/o.scale)/V*o.scale,v=(h-(r-l)/2-z/o.scale)/V*o.scale,g=$+m*(1-p)*V,y=z+v*(1-p)*V;return p>1?s(g,y,V*p):(V*=p,Q.dispatch("onZoomChange",V),a(g,y),c()),e.preventDefault(),!1},dblclick:function(e){return e.preventDefault(),!1}},Q=P(new j,{dispatch:function(e){Q.emit.apply(Q,arguments),"function"==typeof Q.delegate[e]&&Q.delegate[e].apply(Q,Array.prototype.slice.call(arguments,1))},initialize:T,hide:_,show:E,reset:b,scaleBy:w,select:g,unselect:y,highlight:m,unhighlight:v,load:f,unload:h,attach:p,detach:d,getSVGSource:u,getSVGElement:l,checkComplete:function(){return Y},checkShown:function(){return!G},delegate:{},HOTSPOT_HIGHLIGHT_SOLID:1});e.exports=Q},function(e,t,n){n(15);var r=n(3);r.setMaxListeners(0),r.baseURL||(r.baseURL=document.currentScript&&document.currentScript.src.replace(/[^\\\/]+$/,""));var i=n(2),o=i.expand,a=n(0).usedModules;console.log("Cortona3D Solo v1.4.4"),e.exports=o(r,{use:function(e,t){var s=a[e],c=a.addons[e];switch(e){case"core":return s?Promise.resolve(s):new Promise(function(i,c){a[e]=s={config:t||{}},r.core=n(21).configure(t),o(r.app,n(16).app),o(r.app,n(18).app),o(r.app,n(17).app),o(r.app,n(19).app),o(r.app,n(20).app),r.once("core.onRuntimeInitialized",function(){i(s)}),r.once("core.onError",c)});case"drawing":return s||(a[e]=s={config:t||{}},o(r.app,n(7).configure(t))),Promise.resolve(s);case"require":if(!s)return i.detectAMDLoader()?Promise.reject(new Error("The AMD loader is already on the page.")):(a[e]=s={config:t||{}},o(window,n(22)),window.require.onError=function(){},window.require.config(s.config),Promise.resolve(s));break;default:if(c)return Promise.resolve(c);if(i.detectAMDLoader()){var u=t||{},l=a.require&&a.require.config||{},p=u.prefixURL||l.baseUrl||r.baseURL;if(a.addons[e]=c={config:u},!p&&a.core){var d=n(1).Module;"function"==typeof d.locateFile?p=d.locateFile(""):d.memoryInitializerPrefixURL&&(p=d.memoryInitializerPrefixURL)}l=o(l,{context:"Cortona3DSolo",baseUrl:p,config:{}}),l.config[e]=u;var f=window.requirejs.config(l);return new Promise(function(t,n){f([e],function(e){return c.exports=e,t(c)}).catch(n)})}return Promise.reject(new Error("No AMD loader detected."))}},app:o(n(0).app,{util:{xmlToJSON:n(8),loadResource:i.loadResource,toUrl:function(e,t){var n=/^[^\/]+:/,r=e||"";return n.test(r)||(r=i.getBaseURL(t)+r,n.test(r)||(r=i.getBaseURL()+r)),r}}}),expand:o,dispatch:function(e,t){r.emit.apply(r,arguments);for(var n=e.split("."),i=n.pop(),o=r;n.length&&o;)o=o[n.shift()];if(o&&"function"==typeof o[i])switch(arguments.length){case 1:o[i].call(r);break;case 2:o[i].call(r,arguments[1]);break;case 3:o[i].call(r,arguments[1],arguments[2]);break;case 4:o[i].call(r,arguments[1],arguments[2],arguments[3]);break;case 5:o[i].call(r,arguments[1],arguments[2],arguments[3],arguments[3]);break;default:o[i].apply(r,Array.prototype.slice.call(arguments,1))}}})},function(e,t){}])});